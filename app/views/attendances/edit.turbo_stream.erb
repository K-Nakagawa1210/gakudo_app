<turbo-stream action="replace" target="modal">
  <template>
    <div class="modal fade show" style="display:block;" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content p-3">
          <h5>出欠編集 - <%= @attendance.student.student_name %>（<%= @attendance.date.strftime("%m/%d") %>）</h5>
          <%= form_with(model: @attendance, data: { turbo_frame: "modal" }) do |f| %>
            <div class="mb-2">
              <%= f.label :status, "出欠" %>
              <%= f.select :status, Attendance.statuses.keys.map { |k| [k == "present" ? "〇 出席" : "× 欠席", k] }, {}, class: "form-select" %>
            </div>
            <div class="mb-2">
              <%= f.label :arrival_time, "登園時間" %>
              <%= f.time_field :arrival_time, class: "form-control" %>
            </div>
            <div class="mb-2">
              <%= f.label :leave_time, "帰宅時間" %>
              <%= f.time_field :leave_time, class: "form-control" %>
            </div>
            <div class="mt-3">
              <%= f.submit "更新", class: "btn btn-primary" %>
              <button type="button" class="btn btn-secondary" onclick="closeModal()">閉じる</button>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </template>
</turbo-stream>
